<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Shopping Cart</title>
    <link rel="stylesheet" href="style.css">
    <link href="https://fonts.googleapis.com/css2?family=Dancing+Script&display=swap" rel="stylesheet">
    <script src="https://kit.fontawesome.com/a076d05399.js"></script>

    <link href="https://fonts.googleapis.com/css2?family=Baloo+Paaji+2:wght@500&display=swap" rel="stylesheet">
</head>
<body>
<div class="first">
    <div class="coverdiv"></div>
    <i class="ic fas fa-arrow-right"></i>
    <h1 class="h1">Let's</h1>
</div>
<!-- ---------------------------- -->
<div class="container">
    <div class="nav">
        <div class="ul">
        <ul>
            <li>Accessories</li>
            <li>Footwear</li>
            <li>handBags</li>
            <li>Kids</li>
            <li>Men</li>
            <li>Women</li>
        </ul>
    </div>
    <div class="ships">
        <div class="tag">
            <h2 class="h2">Number of Items:</h2>
            <h3 class="num no1">0</h3>

        </div>
        <div class="tag">
            <h2>Total Price:</h2>
            <h3 class="num1 no2">0 Rs</h3>
        </div>
    </div>
    </div>
<!-- ------------------Slider------------------ -->
<div class="img-slider">
    <ul class="slides">
  <li class="slidee"><img src="mens-fashion-banner-homepage-790x340.jpg"/></li>
      <li class="slidee"><img src="slider2.png"/></li>
      <li class="slidee"><img src="download.jpg"/></li>
      <li class="slidee"><img src="unnamed (2).jpg"/></li>
      <li class="slidee"><img src="unnamed.jpg"/></li>
      <li class="slidee"><img src="unnamed (1).jpg"/></li>
    </ul>
  </div>
  <h1 class="he">ITEMS</h1>
  <div class="shoppingList">

      <div class="items">
        <div class="img"> 
            <img src="1.jpg" alt=""></div>
            <div class="price price1">
                <p>700 Rs</p>
            </div>
         <button class="itembtn" data-index="0">ADD TO CART</button>
      </div>
      <div class="items">
        <div class="img"> 
            <img src="2.jpg" alt=""></div>
            <div class="price price2">
                <p>1200 Rs</p>
            </div>
         <button class="itembtn" data-index="1">ADD TO CART</button>
      </div>
      <div class="items">
        <div class="img"> 
            <img src="5.webp" alt=""></div>
            <div class="price price3">
                <p>100000 Rs</p>
            </div>
         <button class="itembtn" data-index="2">ADD TO CART</button>
      </div>
      <div class="items">
        <div class="img"> 
            <img src="4.jpg" alt=""></div>
            <div class="price price4">
                <p>700 Rs</p>
            </div>
         <button class="itembtn" data-index="3">ADD TO CART</button>
      </div>
      <!-- ---------------first row comp---------------- -->

      <div class="items">
        <div class="img"> 
            <img src="3.jpeg" alt=""></div>
            <div class="price price5">
                <p>6000 Rs</p>
            </div>
         <button class="itembtn" data-index="4">ADD TO CART</button>
      </div>
      <div class="items">
        <div class="img"> 
            <img src="7.jpg" alt=""></div>
            <div class="price price6">
                <p>300 Rs</p>
            </div>
         <button class="itembtn" data-index="5">ADD TO CART</button>

      </div>
      <div class="items">
        <div class="img"> 
            <img src="8.jpg" alt=""></div>
            <div class="price price7">
                <p>500 Rs</p>
            </div>
         <button class="itembtn" data-index="6">ADD TO CART</button>
      </div>
      <div class="items">
        <div class="img"> 
            <img src="9.jpg" alt=""></div>
            <div class="price price8">
                <p>1000 Rs</p>
            </div>
         <button class="itembtn" data-index="7">ADD TO CART</button>
      </div>
<!-- -------------------------sec row comp---------- -->
      <div class="items">
        <div class="img"> 
            <img src="3.jpg" alt=""></div>
            <div class="price price9">
                <p>3000 Rs</p>
            </div>
         <button class="itembtn" data-index="8">ADD TO CART</button>
      </div>
      <div class="items">
        <div class="img"> 
            <img src="10.jpg" alt=""></div>
            <div class="price price10">
                <p>4050 Rs</p>
            </div>
         <button class="itembtn" data-index="9">ADD TO CART</button>
      </div>
      <div class="items">
        <div class="img"> 
            <img src="11.jpg" alt=""></div>
            <div class="price price11">
                <p>3500 Rs</p>
            </div>
         <button class="itembtn" data-index="10">ADD TO CART</button>
      </div>
      <div class="items">
        <div class="img"> 
            <img src="12.jpg" alt=""></div>
            <div class="price price12">
                <p>132500 Rs</p>
            </div>
         <button class="itembtn" data-index="11">ADD TO CART</button>
      </div>
<!-- -----------------------third comp--------------- -->
      <div class="items">
        <div class="img"> 
            <img src="13.jpg" alt=""></div>
            <div class="price price13">
                <p>250 Rs</p>
            </div>
         <button class="itembtn" data-index="12">ADD TO CART</button>
      </div>
      <div class="items">
        <div class="img"> 
            <img src="14.jpg" alt=""></div>
            <div class="price price14">
                <p>430 Rs</p>
            </div>
         <button class="itembtn" data-index="13">ADD TO CART</button>
      </div>
      <div class="items">
        <div class="img"> 
            <img src="15.webp" alt=""></div>
            <div class="price price15">
                <p>320 Rs</p>
            </div>
         <button class="itembtn" data-index="14">ADD TO CART</button>
      </div>
      <div class="items">
        <div class="img"> 
            <img src="166.png" alt=""></div>
            <div class="price price16">
                <p>490 Rs</p>
            </div>
         <button class="itembtn" data-index="15">ADD TO CART</button>
      </div>
      <!-- ------------------fourth comp------------- -->
      <div class="item">

        <div class="cross">
            <i class="fas fa-times" id="cross" onclick="crossNav()"></i>
        </div>
     
    </div>
  </div>
  <!-- -----------------------------ITEMS COMPLETE---------------- -->
    </div>
  
</body>
<script src="./jquery-3.4.1.min.js"></script>

<script>

    var first = document.getElementsByClassName('first')[0];
    var ic    = document.getElementsByClassName('ic')[0];
    var container = document.getElementsByClassName('container')[0];
    ic.addEventListener('click', function(){
        first.style.visibility="hidden";
        container.style.visibility="visible"
    });
    $(function() {
var width = 1450;
var animationSpeed = 1000;
var pause = 3000;
var currentSlide = 1;

var img_slider = $('.img-slider');
var slideContainer = $('.slides');
var slides = $('.slidee');
var interval;
function startSlider() {
    interval = setInterval(function() {
        slideContainer.animate({'margin-left': '-='+width}, animationSpeed, function() {
            if (++currentSlide== slides.length) {
                currentSlide = 1;
                slideContainer.css('margin-left', 0);
            }
        });
    },pause);
}
startSlider();

});
// ----------------------------SLIDER COMPLETE------------------------
// ------------------items------------------------

var numberOfItems = 0;
var totalPrice = 0;
var arr = [{name:"Bag",quantity:"1",price:"700"},
           {name:"Watch",quantity:"2",price:"1200"},
           {name:"Tea set",quantity:"3",price:"100000"},
           {name:"Airpods",quantity:"1",price:"700"},
           {name:"strightner",quantity:"1",price:"6000"},
           {name:"shirt",quantity:"1",price:"300"},
           {name:"women wear",quantity:"1",price:"500"},
           {name:"Sneakers",quantity:"1",price:"1000"},
           {name:"heels",quantity:"1",price:"3000"},
           {name:"Boots",quantity:"1",price:"4050"},
           {name:"Mens Shoes",quantity:"1",price:"3500"},
           {name:"DSLR",quantity:"1",price:"132500"},
           {name:"Ring",quantity:"1",price:"250"},
           {name:"pringles",quantity:"1",price:"430"},
           {name:"Nail Polish",quantity:"1",price:"320"},
           {name:"Niva Cream",quantity:"1",price:"490"}]

        //    ---------------------Save to localStorage----------------
        var btn = document.querySelectorAll('.itembtn')
        var items = document.getElementsByClassName('item')[0];    
        var itemNo = document.getElementsByClassName('no1')[0]
        var price = document.getElementsByClassName('no2')[0]
        var h3= document.getElementsByTagName('h3')[0];


        for(var i = 0; i<btn.length;i++){
            btn[i].addEventListener('click', function(e){
               let index = e.target.dataset.index;
                console.log(index)

                localStorage.setItem(index, JSON.stringify(arr[index]))
                items.innerHTML += `<div class="name"><p id="itemName">${arr[index].name}<i class="fas fa-trash-alt" id="delete" style="left:80%;position:absolute;padding-top:10px;" onclick="deleteItem(${index},this)"></i></p></div>`     
                price.innerHTML = `${arr[index].price}`
                numberOfItems = numberOfItems + 1;
                totalPrice = totalPrice + Number(arr[index].price.substr(0,arr[index].price.length-0))
                price.innerHTML = totalPrice+'Rs'
                h3.innerHTML = numberOfItems
                
            })        
            }
            // -----------------------------------
        var cross = document.getElementById('cross')
        var h2 =document.getElementsByClassName('h2')[0]

            h3.innerHTML = numberOfItems
        price.innerHTML = totalPrice.toFixed(2) +'Rs'

        h2.addEventListener('click', function(){
        items.style.display="block";
        })
        function crossNav(){
            items.style.display="none";
        }
        h3.addEventListener('click', function(){
        items.style.display="block";
        })
        function crossNav(){
            items.style.display="none";
        }
        // ------------------DELETE ITEMS------------


    function deleteItem(i,deleteIcon){
    numberOfItems = numberOfItems - 1
    totalPrice = totalPrice -  Number(arr[i].price.substr(0,arr[i].price.length-0))
    price.innerHTML = totalPrice+ "Rs"
    h3.innerHTML = numberOfItems
    localStorage.removeItem(i)
    var itemToRemove = deleteIcon.parentNode.parentNode
    itemToRemove.parentNode.removeChild(itemToRemove)

}
        
</script>
</html>